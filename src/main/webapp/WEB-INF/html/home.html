<!DOCTYPE html>
<html lang='en'>
<head>

<link href="../static/css/bootstrap.css" rel="stylesheet">
<link href="../static/css/main.css" rel="stylesheet">
</head>
<body>

<div id='container' class='container navbar navbar-default'>
	<!--<a href='index.html' class='navbar-brand'>ForumApp</a>-->

	<!--<ul class='nav navbar-nav navbar-right'>
		<li><a class='nav navbar navbar-brand navbar-right' href='index.html'>Home</a></li>
		<li><a class='nav navbar navbar-brand navbar-right' href='profile.html'>My Profile</a></li>
		<li><a class='nav navbar navbar-brand navbar-right' href='settings.html'>Settings</a></li>
	</ul>-->

	<div class='row'>
		<a href='home.html' class='nav navbar-brand'>ForumApp</a>
		<ul class='list-unstyled list-inline nav navbar-nav navbar-right'>
			<li><a class='nav navbar-nav navbar-brand' href='home.html'>Home</a></li>
			<li><a class='nav navbar-nav navbar-brand' href='mytopics.html'>My Topics</a></li>
		</ul>
	</div>
	
	<div class='row well well-lg'>
		<div id="topicList">
   			
		</div>
		
		
		<div class='row'>
			<div class='col-md-1'>
				<label> Title </label> 
			</div>
			<div class='col-md-5'>
				<input type='text' id='title' name='title' required/>
			</div>
		</div>
		
		<div class='row'>
			<p></p>
		</div>
		<div class='row'>
			<div class='col-md-1'>
				<input type='submit' name='submit' class='btn btn-success'/>
			</div>
			<div class='col-md-1'>
				<input type='button' value="Cancel" name='cancel' class='btn btn-danger'/>
			</div>
		</div>
		
	</div>

</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="../static/js/bootstrap.js"></script>

<script type="text/javascript">
	
	$(document).ready(function() {
		
		getAllTopics();
		
	});

	//to get all topics on home page
	function getAllTopics() {
		//alert("inside getAllTopics");
		var topicsUrl = "http://localhost:8080/forum-api/topic/getAllTopics";
		
		var jsonData={ 	"status" : "success",
						"topicList" : [
						               {
						            	   	"id":"1",
											"title":"title1",
											"description":"sample topic",
											"createdAt":"2017-07-23 16:11:10",
											"createdBy":"swapnil solanki",
											"voteCount":"10",
											"tags":"sports",
											"topicUrl":"testTopic1",
											"commentList" :[
															{
																"id":"1",
																"type":"T",
																"value":"",
																"createdAt":"2017-07-24 16:11:10",
																"createdBy":"swapnil",
																"topicId":"1"
																}
															]
										},
										{
						            	   	"id":"2",
											"title":"title2",
											"description":"sample topic2",
											"createdAt":"2017-07-21 16:11:10",
											"createdBy":"swapnil solanki",
											"voteCount":"20",
											"tags":"music",
											"topicUrl":"testTopic2",
											"commentList" :[
															{
																"id":"2",
																"type":"T",
																"value":"",
																"createdAt":"2017-07-22 16:11:10",
																"createdBy":"swapnil",
																"topicId":"2"
																}
															]
										}
						               ]
						};
					
		
		if(jsonData.status=="success") {
			//alert("jsonData length: "+jsonData.length);
			var data = jsonData.topicList;
			
			//$.getJSON( jsonData , function( data ) {
			for (var i = 0; i < data.length; i++) {
				
				var id;
				var title;
				var description;
				var createdAt;
				var createdBy;
				var voteCount;
				var tags;
				var topicUrl;
				
				var commentList;
				var commentId;
				var commentType;
				var commentValue;
				var commentCreatedAt;
				var commentCreatedBy;
				var topicId;
								
							
				//alert("i: "+i);
				var j = 0;
				var items = [];
				items.push("<div class='row well well-lg'>");
				$.each( data[i] , function( key, val ) {
					
					items.push( "<li id='" + key + "'>" + val + "</li>" );
					j++;
					
				});
				items.push("</div>");
				
				/* $( "<ul/>", {
				//$( "", {
					html: items.join( "" )
				}).appendTo( "#topicList" ); */
				//$( "<ul/>", {
				$(items.join( "" )).appendTo( "#topicList" );
			}
			//});
			
		}
		
		/* $.ajax({
			type: "GET",
			url: topicsUrl,
			dataType: "json",
			success: function(data) {
				//alert(data);
				if(data.status == "success"){
					
				}else{
				    alert("Some error in loading, please try again!");
				}
			}
		}); */
	}
</script>

</body>
</html>